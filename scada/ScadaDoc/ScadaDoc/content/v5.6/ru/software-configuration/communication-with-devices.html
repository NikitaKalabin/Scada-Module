<!DOCTYPE html>
<html>
<head>
    <title>Настройка обмена данными с устройствами - Документация Rapid SCADA</title>
    <meta charset="utf-8" />
    <link href="../../../../css/scadadoc.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../../../lib/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../js/contents.js"></script>
    <script type="text/javascript" src="../../../../js/scadadoc.js"></script>
</head>
<body>
    <h1>Настройка обмена данными с устройствами</h1>

    <p>Взаимодействие с физическими или мнимыми устройствами выполняется программой Коммуникатор, которая, выступая в качестве ведущего (Master) или ведомого (Slave), производит опрос данных и передачу команд устройствам. Все устройства привязываются к своим линиям связи, которые не зависят друг от друга и опрашиваются параллельно.</p>

    <p>На рис. 1 показан пример настройки линии связи. Канал связи определяет, с помощью какого физического интерфейса или сетевого протокола производится обмен данными с устройствами. Поддерживаются следующие каналы связи: Последовательный порт, TCP-клиент, TCP-сервер, UDP. В некоторых случаях, если взаимодействие с устройствами реализовано в библиотеке КП, канал связи следует оставить незаданным (например, в реализации OPC).</p>

    <p>Если требуется отправлять команды управления устройствам, нужно поставить галочку <em>Команды ТУ разрешены</em>. По умолчанию она отключена в целях безопасности.</p>

    <p>Порядок и параметры опроса КП на линии связи задаются на странице <em>Опрос КП</em> (рис. 2).</p>

    <p class="sd-article-image">
        <img src="communication-with-devices-files/scada_comm_line_ru.png" alt="Параметры линии связи" /><br />
        Рис. 1. Параметры линии связи
    </p>

    <p class="sd-article-image">
        <img src="communication-with-devices-files/scada_comm_req_seq_ru.png" alt="Опрос КП" /><br />
        Рис. 2. Опрос КП
    </p>

    <p>При снятии флажка <em>Активна</em> соответствующая линия связи будет полностью отключена со всеми относящимися к ней КП. При снятии флажка <em>Активен</em> для КП опрос и отправка команды соответствующему КП на линии связи будут отключены.</p>

    <p>С помощью флажков <em>Привязка</em> можно включить или отключить для определённых КП или для всей линии связи отправку данных программе Сервер. Снятие флажка <em>Использовать SCADA-Сервер</em> на странице <em>Общие параметры</em> полностью отключает взаимодействие Коммуникатора и Сервера. Эти возможности удобно использовать при тестировании новых подключаемых к системе устройств.</p>

    <p>Если в свойствах КП поля <em>Время</em> и <em>Период</em> нулевые, то опрос КП производится непрерывно циклически. Если для КП указано время, а период равен нулю, то опрос выполняется один раз в сутки в указанное время. Если период не нулевой, то КП опрашивается периодически, начиная с заданного времени. Поля <em>Таймаут</em> и <em>Пауза</em> определяют длительность ожидания ответа от устройства и задержку после приёма данных. Поле <em>Командная строка</em> позволяет задать дополнительные параметры работы КП, которые определяются библиотекой КП и указаны в её описании.</p>

    <p>Кнопка <img src="../../common-images/reset.png" /> позволяет восстановить параметры опроса КП по умолчанию, которые заложены в DLL, выбранной из списка. Если данная DLL поддерживает отображение свойств конкретного КП, то они открываются кнопкой <img src="../../common-images/props.png" /> или из контекстного меню элемента дерева, соответствующего КП. Для некоторых типов КП задаются общие глобальные свойства, в этом случае они редактируются по кнопке <em>Свойства</em> на странице <em>Библиотеки КП</em>.</p>

    <p>Значительно ускорить настройку обмена данными с устройствами позволяет функция импорта (рис. 3). Чтобы ей воспользоваться, галочка <em>Использовать SCADA-Сервер</em> на странице <em>Общие параметры</em> должна быть установлена, а служба Сервера должен быть запущена. Импорт вызывается кнопкой <img src="../../common-images/import.png" />, которая расположена в контекстном меню элементов линий связи, а также на странице <em>Опрос КП</em>. Функция импорта позволяет в настройках программы Коммуникатор создать перечень линий связи и КП на основе информации из базы конфигурации.</p>
    
    <p>Кнопка <img src="../../common-images/refresh.png" /> позволяет обновить настройки существующих линий связи и КП по базе конфигурации, однако при этом будут утеряны настройки, сделанные пользователем вручную.</p>

    <p class="sd-article-image">
        <img src="communication-with-devices-files/scada_comm_import_ru.png" alt="Импорт КП" /><br />
        Рис. 3. Импорт КП
    </p>
</body>
</html>
