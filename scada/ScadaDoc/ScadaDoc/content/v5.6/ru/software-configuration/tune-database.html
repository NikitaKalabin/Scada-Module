<!DOCTYPE html>
<html>
<head>
    <title>Создание базы конфигурации - Документация Rapid SCADA</title>
    <meta charset="utf-8" />
    <link href="../../../../css/scadadoc.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../../../lib/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../js/contents.js"></script>
    <script type="text/javascript" src="../../../../js/scadadoc.js"></script>
</head>
<body>
    <h1>Создание базы конфигурации</h1>

    <p>База конфигурации представляет собой структурированное описание всей автоматизированной системы. Программы, входящие в состав Rapid SCADA, используют информацию из базы конфигурации в сочетании со своими параметрами настройки.</p>

    <p>База конфигурации редактируется с помощью программы Администратор. Редактируемый экземпляр базы конфигурации имеет формат SDF (Microsoft SQL Server Compact Edition). После того, как внесение необходимых изменений завершено, администратор системы нажимает кнопку <img src="../../common-images/pass.gif" />, и база конвертируется в специально разработанный формат DAT для использования остальными приложениями комплекса. Такой подход позволяет модифицировать базу конфигурации, не останавливая работу комплекса.</p>

    <p>База конфигурации состоит из таблиц, которые, в свою очередь, состоят из столбцов и строк. Каждая таблица относится к одной из следующих групп:</p>

    <ol>
        <li><em>Система</em>. Данная группа содержит таблицы, с помощью которых настраивается конфигурация конкретной автоматизированной системы.</li>
        <li><em>Справочники</em>. Данная группа содержит вспомогательные таблицы. В большинстве случаев их изменение не требуется.</li>
    </ol>

    <p>Далее приводится перечень таблиц базы конфигурации с их назначением.</p>

    <table class="sd-article-table">
        <tr>
            <th>Таблица</th>
            <th>Назначение</th>
        </tr>
        <tr>
            <td colspan="2"><strong>Система</strong></td>
        </tr>
        <tr>
            <td><em>Объекты</em></td>
            <td>Содержит логические объекты, к которым привязываются входные данные и команды управления</td>
        </tr>
        <tr>
            <td><em>Линии связи</em></td>
            <td>Описывает физические линии связи, по которым производится обмен данными с устройствами</td>
        </tr>
        <tr>
            <td><em>КП</em></td>
            <td>Содержит контролируемые пункты (КП) - физические или мнимые устройства, с которыми происходит обмен данными</td>
        </tr>
        <tr>
            <td><em>Входные каналы</em></td>
            <td>Определяет входные данные системы, поступающие с устройств, а также значения, вычисляемые на их основе</td>
        </tr>
        <tr>
            <td><em>Каналы управления</em></td>
            <td>Определяет команды, выполняемые системой</td>
        </tr>
        <tr>
            <td><em>Роли</em></td>
            <td>Содержит роли - набор функциональных возможностей, доступных пользователям</td>
        </tr>
        <tr>
            <td><em>Пользователи</em></td>
            <td>Содержит перечень пользователей системы с указанием ролей</td>
        </tr>
        <tr>
            <td><em>Интерфейс</em></td>
            <td>Содержит описание объектов интерфейса (представлений, отчётов и окон данных), на которые требуется разграничение прав доступа</td>
        </tr>
        <tr>
            <td><em>Права</em></td>
            <td>Определяет права ролей на объекты интерфейса</td>
        </tr>
        <tr>
            <td colspan="2"><strong>Справочники</strong></td>
        </tr>
        <tr>
            <td><em>Типы каналов</em></td>
            <td>Справочник типов входных каналов</td>
        </tr>
        <tr>
            <td><em>Типы команд</em></td>
            <td>Справочник типов команд, которые могут использоваться каналами управления</td>
        </tr>
        <tr>
            <td><em>Типы событий</em></td>
            <td>Справочник типов событий системы, которые соответствуют статусам значений входных каналов</td>
        </tr>
        <tr>
            <td><em>Типы КП</em></td>
            <td>Справочник типов КП (устройств)</td>
        </tr>
        <tr>
            <td><em>Величины</em></td>
            <td>Справочник измеряемых физических величин</td>
        </tr>
        <tr>
            <td><em>Размерности</em></td>
            <td>Справочник размерностей значений входных каналов, а также перечислимые значения каналов</td>
        </tr>
        <tr>
            <td><em>Значения команд</em></td>
            <td>Справочник значений команд, которые вызываются посредством каналов управления</td>
        </tr>
        <tr>
            <td><em>Форматы чисел</em></td>
            <td>Справочник форматов, используемых при выводе значений входных каналов</td>
        </tr>
        <tr>
            <td><em>Формулы</em></td>
            <td>Справочник формул, используемых при расчётах данных входных каналов и значений команд каналов управления</td>
        </tr>
    </table>

    <p>Заполнение базы конфигурации в программе Администратор выполняется в следующей последовательности:</p>

    <ol>
        <li>Создать резервную копию существующей базы, нажав кнопку <img src="../../common-images/backup.gif" />. Кроме того, приложение Администратор автоматически сохраняет копию базы при передаче Серверу.</li>
        <li>Если демонстрационные данные не нужны, очистить таблицы, входящие в группу <em>Система</em>. Таблицы связаны между собой, поэтому очистку удобнее всего начинать с таблицы <em>Права</em> и продолжать далее до таблицы <em>Объекты</em>. В таблице <em>Роли</em> следует обязательно сохранить строки с идентификаторами от 0 до 4.</li>
        <li>Заполнить таблицы из группы <em>Система</em>. Ввод данных обычно выполняется по порядку, начиная с таблицы <em>Объекты</em>, заканчивая таблицей <em>Права</em>. Для быстрого автоматического заполнения таблиц <em>Входные каналы</em> и <em>Каналы управления</em> рекомендуется использовать сервисные функции <em>Создание каналов</em> и <em>Клонирование каналов</em>.</li>
        <li>Передать базу конфигурации Серверу, нажав кнопку <img src="../../common-images/pass.gif" />. Данная команда выполняет конвертирование базы в формат DAT.</li>
    </ol>

    <p>Создание базы конфигурации можно значительно ускорить, если использовать сделанные ранее наработки. Для обмена информацией между различными базами программа Администратор имеет функции <em>Экспорт</em> и <em>Импорт</em>, которые вызываются из меню <em>База данных</em>. Таблицы экспортируются в файлы формата DAT, после чего информация может быть импортирована из этих файлов в ту же самую или другую базу конфигурации. Существует возможность ограничить перечень выгружаемых и закачиваемых данных, задав начальный и конечный идентификаторы (рис. 1). Кроме того, если при импорте указать новый начальный идентификатор, то импорт данных выполнится со смещением номеров идентификаторов.</p>

    <p class="sd-article-image">
        <img src="tune-database-files/scada_admin_import_ru.png" alt="Импорт данных в базу конфигурации" /><br />
        Рис. 1. Импорт данных в базу конфигурации
    </p>

    <p>Сервис создания каналов (рис. 2), доступный в меню <em>Сервис</em>, позволяет быстро заполнить таблицы <em>Входные каналы</em> и <em>Каналы управления</em>, используя введённые объекты и КП. Правила создания каналов содержатся в библиотеках КП (драйверах) программы Коммуникатор, расположенных по умолчанию в директории C:\SCADA\ScadaComm\KP\. Если какой-либо файл DLL, указанный в таблице <em>Типы КП</em>, не существует, то создание каналов для КП соответствующего типа невозможно. При создании каналов используются настройки КП, введённые в Коммуникаторе.</p>

    <p>Чтобы создать входные каналы и каналы управления, необходимо отметить КП, для которых создаются каналы, выбрать или оставить неопределённым объект для каждого КП, нажать кнопку <em>Рассчитать номера каналов</em>, проконтролировать рассчитанные номера и затем нажать кнопку <em>Создать</em>.</p>

    <p class="sd-article-image">
        <img src="tune-database-files/scada_admin_create_cnls_ru.png" alt="Создание каналов" /><br />
        Рис. 2. Создание каналов
    </p>

    <p>Сервис клонирования каналов (рис. 3) также предназначен для ускорения заполнения таблиц <em>Входные каналы</em> и <em>Каналы управления</em>. В процессе клонирования каналов значения объектов и КП могут быть заменены другими.</p>

    <p class="sd-article-image">
        <img src="tune-database-files/scada_admin_clone_cnls_ru.png" alt="Клонирование каналов" /><br />
        Рис. 3. Клонирование каналов
    </p>

    <p>Редактирование входных каналов доступно как в табличном виде, так и на форме свойств входного канала, вызов которой производится из контекстного меню по правому щелчку мыши на таблице входных каналов (рис. 4).</p>

    <p class="sd-article-image">
        <img src="tune-database-files/scada_admin_cnl_props_ru.png" alt="Редактирование свойств входного канала" /><br />
        Рис. 4. Редактирование свойств входного канала
    </p>

    <p>Функция упаковки позволяет уменьшить размер SDF-файла базы конфигурации, когда её редактирование завершено. Данная функция доступна через главное меню <em>База данных &gt; Упаковать</em>.
</p>
</body>
</html>
