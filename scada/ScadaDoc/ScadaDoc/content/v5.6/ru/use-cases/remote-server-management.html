<!DOCTYPE html>
<html>
<head>
    <title>Управление удалённым сервером с помощью Агента - Документация Rapid SCADA</title>
    <meta charset="utf-8" />
    <link href="../../../../css/scadadoc.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../../../lib/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../js/contents.js"></script>
    <script type="text/javascript" src="../../../../js/scadadoc.js"></script>
</head>
<body>
    <h1>Управление удалённым сервером с помощью Агента</h1>

    <p>Служба Агент устанавливается на удалённый сервер и обеспечивает обмен конфигурациями между сервером и рабочей станцией инженера, на которой выполняется работа над проектом SCADA-системы.</p>

    <h2>Установка</h2>

    <p>Агент работает на операционных системах Windows и Linux. Агент не имеет пользовательского интерфейса и работает как служба Windows или как демон на Linux. Пошаговая инструкия по установке Агента находится в архиве его дистрибутива.</p>

    <p>Для взаимодейтвия с Агентом необходима программа Администратор версии не ниже 5.1.0.0. Администратор устанавливается в составе Rapid SCADA.</p>

    <h2>Сценарии использования</h2>

    <p>Исходные данные: имеется удалённый сервер с установленной Rapid SCADA и Агентом, а также отдельная рабочая станция инженера, с которой осуществляются описанные в статье действия.</p>

    <h3>Редактирование существующей конфигурации</h3>

    <p>Рекомендуется хранить конфигурации (проекты) Rapid SCADA на отдельном файловом сервере, который резервируется, либо использовать систему контроля версий типа Git. Чтобы передать необходимую для работы конфигурацию на производственный сервер, отредактируйте её на рабочей станции и используйте приложение Администратор для передачи.</p>

    <p>Возможна ситуация, когда конфигурация Rapid SCADA хранится только на удалённом сервере. В этом случае, чтобы отредактировать конфигурацию, необходимо сначала её скачать на рабочую станцию. Предварительно откройте в Администраторе файл базы конфигурации в формате SDF, в который будет импортирована конфигурация для редактирования. После этого выберите пункт меню <em>Удалённый сервер &gt; Скачать конфигурацию...</em>, откроется форма, показанная на рисунке ниже.</p>

    <p class="sd-article-image">
        <img src="remote-server-management-files/server_download1_ru.png" alt="Скачивание конфигурации" /><br />
    </p>

    <p>Для сценария с последующим редактированием конфигурации необходимо выбрать параметры скачивания именно так, как показано на рисунке. После успешного скачивания откроется форма импорта конфигурации из формата DAT в формат SDF. Дело в том, что рабочая копия конфигурации на сервере хранится в специализированном формате DAT, а для редактирования используется формат SDF. После успешного выполнения импорта редактируйте базу конфигурации Rapid SCADA и конфигурацию всех приложений на рабочей станции.</p>

    <p>При первом использовании функционала скачивания и передачи конфигурации необходимо создать подключение к серверу, как показано на следующем рисунке. Проверка имени и пароля пользователя выполняется Агентом по базе конфигурации, работающей на удалённом сервере. Указанный пользователь должен иметь роль <em>Администратор</em>. Поля <em>Экземпляр системы</em> и <em>Серетный ключ</em> должны совпадать с соответствующими параметрами настройки Агента.</p>

    <p class="sd-article-image">
        <img src="remote-server-management-files/server_connection_ru.png" alt="Настройки соединения" /><br />
    </p>

    <p>После того, как необходимое редактирование конфигурации завершено, передайте её обратно на удалённый сервер. Для этого выберите пункт меню <em>Удалённый сервер &gt; Передать конфигурацию...</em>, откроется следующая форма:</p>

    <p class="sd-article-image">
        <img src="remote-server-management-files/server_upload1_ru.png" alt="Передача конфигурации" /><br />
    </p>

    <p>Сначала отметьте корневой узел дерева, чтобы выбрать все файлы конфигурации для передачи, а затем раскройте каждый узел дерева, чтобы проверить и исключить из выбора посторонние файлы, если они присутствуют. После успешной передачи конфигурации Агент перезапустит службы Сервера и Коммуникатора на удалённом сервере, чтобы изменения вступили в силу. <strong>Обязательно проверьте работоспособность сервера после передачи конфигурации.</strong></p>

    <h3>Копирование конфигурации с одного сервера на другой</h3>

    <p>Данный сценарий возможен в ситауации, когда существует тестовый и производственный сервера или основной и резервный сервера. Рассмотрим перенос конфигурации с сервера 1 на сервер 2.</p>

    <p>Откройте диалог скачивания конфигурации и выберите параметры скачивания, как показано на рисунке. Отличия заключаются в том, что конфигурация сохраняется в архив, специфичные для сервера файлы не скачиваются, и импорт базы конфигурации не вызывается. После завершения скачивания можно открыть сохранённый файл архива и проверить, какие файлы конфигурации в него вошли.</p>

    <p class="sd-article-image">
        <img src="remote-server-management-files/server_download2_ru.png" alt="Скачивание конфигурации" /><br />
    </p>

    <p>Затем вызовите диалог передачи конфигурации и создайте подключение к серверу 2. Выберите в качестве источника сохранённый ранее архив конфигурации и снимите галочку очистки специфичных файлов сервера. <strong>После передачи конфигурации проверьте работоспособность сервера 2.</strong></p>

    <p class="sd-article-image">
        <img src="remote-server-management-files/server_upload2_ru.png" alt="Передача конфигурации" /><br />
    </p>

    <p>Проверить состояние сервера поможет соответствующая форма, которая вызывается из меню <em>Удалённый сервер &gt; Статус сервера...</em> На форме необходимо выбрать подключение к серверу и нажать кнопку <em>Соединиться</em>. В случае, если состояние службы Сервера или Коммуникатора - ошибка, необходимо подключиться к файловой системе удалённого сервера и проанализировать журналы работы приложений Rapid SCADA. Кроме того, данная форма позволяет удалённо перезапустить службы Сервера и Коммуникатора.</p>

    <p class="sd-article-image">
        <img src="remote-server-management-files/server_status_ru.png" alt="Статус сервера" /><br />
    </p>
</body>
</html>